apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'application'

mainClassName = 'javaone.nashorn.Main'

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    jcenter()
    maven { url "https://maven.java.net/content/repositories/public" }
}

ext {
    avatarVersion = "0.10.25-SNAPSHOT"
}

sourceSets {
    main {
        resources {
            srcDir 'src/main/javascript'
        }
    }
}

dependencies {
    compile "com.oracle:avatar-js:${avatarVersion}"
    compile "com.oracle:libavatar-js-macosx-x64:${avatarVersion}"
}

task collectJars(type: Copy) {
    into "$buildDir/output/lib"
    from configurations.testRuntime
}
